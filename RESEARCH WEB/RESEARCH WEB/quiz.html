<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CalcuHeal Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* =========================
       THEME TOKENS
       ========================= */
    :root{
      /* Light */
      --text:#4b3700;
      --muted:#6f5a21;

      --panel: rgba(255, 248, 220, 0.95);
      --surface-1:#fff9db;
      --surface-2:#fff5c4;
      --surface-3:#fffef0;

      --chip:#fffde7;
      --chip-br:#e7d79a;

      --brand:#ffd700; /* bright yellow buttons (always) */
      --brand-2:#e6be00;

      --correct:#b7f7b7; /* green tint */
      --wrong:#ffc2c2;   /* red tint */

      --link:#b8860b;

      --shadow-sm:0 4px 8px rgba(0,0,0,0.1);
      --shadow-md:0 8px 16px rgba(0,0,0,0.12);
    }

    body[data-theme="dark"]{
      /* Dark */
      --text:#f3f4f6;
      --muted:#cbd5e1;

      --panel: rgba(0,0,0,0.55);
      --surface-1:#1f1f1f;
      --surface-2:#262626;
      --surface-3:#141414;

      --chip:#262626;
      --chip-br:#333333;

      --brand:#facc15;
      --brand-2:#eab308;

      --correct:#164e1b; /* deeper green bg */
      --wrong:#5c1a1a;   /* deeper red bg */

      --link:#facc15;

      --shadow-sm:0 4px 10px rgba(0,0,0,0.35);
      --shadow-md:0 8px 18px rgba(0,0,0,0.4);
    }

    /* =========================
       BASE
       ========================= */
    *{box-sizing:border-box}
    body {
      margin: 0;
      padding: 2rem;
      font-family: 'Poppins', sans-serif;
      background: url("Image/cc2.webp") no-repeat center center fixed;
      background-size: cover;
      color: var(--text);
      text-align: center;
      position: relative;
      transition: color .25s ease, background-color .25s ease;
    }
    /* Dark overlay to keep text readable on photo */
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        radial-gradient(60% 60% at 50% 20%, rgba(255,215,0,.18), transparent 60%),
        linear-gradient(to bottom, rgba(0,0,0,.30), rgba(0,0,0,.12));
      transition: background .3s ease;
    }
    body[data-theme="dark"]::before{
      background:
        radial-gradient(60% 60% at 50% 20%, rgba(250,204,21,.15), transparent 60%),
        linear-gradient(to bottom, rgba(0,0,0,.60), rgba(0,0,0,.35));
    }

    /* Theme toggle */
    .theme-toggle{
      position:fixed; right:14px; top:14px; z-index:10;
      display:inline-flex; align-items:center; gap:8px;
      padding:.45rem .7rem; border-radius:999px; font-weight:700; cursor:pointer;
      background: rgba(0,0,0,.45); color:#fff; border:1px solid rgba(255,255,255,.25);
      backdrop-filter: blur(4px);
    }
    body[data-theme="dark"] .theme-toggle{
      background: rgba(255,255,255,.12); color:#fff; border-color: rgba(255,255,255,.25);
    }

    .quiz-container {
      background: var(--panel);
      padding: 2rem;
      border-radius: 20px;
      max-width: 1000px;
      margin: auto;
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(2px);
    }

    h1 {
      font-size: 2.5rem;
      color: var(--link);
      margin-bottom: 1.5rem;
    }

    .switch-btns {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }

    /* Buttons: always bright yellow */
    button,
    .btn {
      margin-top: 0;
      padding: 0.75rem 1.25rem;
      background-color: var(--brand);
      color: #111827; /* readable in both themes */
      border: none;
      border-radius: 999px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: 800;
      transition: transform .12s ease, box-shadow .12s ease, background-color .2s ease;
      box-shadow: 0 6px 14px rgba(255,215,0,.25);
    }
    button:hover, .btn:hover { background-color: var(--brand-2) }
    button:active, .btn:active { transform: translateY(1px) }

    .question {
      margin: 2rem 0;
      padding: 1.5rem;
      background-color: var(--surface-1);
      border-radius: 16px;
      box-shadow: var(--shadow-sm);
      text-align: left;
      color: var(--text);
    }

    .question h2 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--text);
    }

    .options label {
      display: block;
      background: var(--surface-2);
      margin: 0.5rem auto;
      padding: 0.75rem 1rem;
      border-radius: 10px;
      cursor: pointer;
      max-width: 520px;
      transition: background-color 0.2s;
      color: var(--text);
      border: 1px solid var(--chip-br);
    }
    .options label:hover {
      background-color: var(--chip);
    }

    .result {
      display: none;
      margin-top: 2rem;
      padding: 2rem;
      background-color: var(--surface-3);
      border-radius: 16px;
      box-shadow: var(--shadow-sm);
      max-width: 640px;
      margin-inline: auto;
      color: var(--text);
    }

    .result img {
      max-width: 220px;
      border-radius: 12px;
      margin-top: 1rem;
    }

    .back-link {
      display: inline-block;
      margin-top: 2rem;
      text-decoration: none;
      color: var(--link);
      font-weight: 600;
      font-size: 1rem;
    }
    .back-link:hover { text-decoration: underline; }

    /* trivia feedback classes (theme-aware) */
    .is-correct { background-color: var(--correct) !important; }
    .is-wrong   { background-color: var(--wrong) !important; color:#fff; }

    @media (max-width: 600px) {
      .question { padding: 1rem; }
      h1 { font-size: 2rem; }
      .question h2 { font-size: 1.05rem; }
    }
  </style>
</head>
<body>
  <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme">üåô Toggle theme</button>

  <div class="quiz-container">
    <div class="switch-btns">
      <button type="button" onclick="showQuiz('personality')">Personality Quiz</button>
      <button type="button" onclick="showQuiz('trivia')">Trivia Quiz</button>
    </div>

    <!-- Personality Quiz -->
    <div id="personality-quiz">
      <h1>Which CalcuHeal Ingredient Are You?</h1>
      <form id="quizForm">
        <div id="quizContainer"></div>
        <button type="submit">See My Result</button>
      </form>
      <div class="result" id="resultBox">
        <h2 id="resultTitle"></h2>
        <p id="resultDescription"></p>
        <img id="resultImage" src="" alt="Result Image" />
      </div>
    </div>

    <!-- Trivia Quiz -->
    <div id="trivia-quiz" style="display: none;">
      <h1>Trivia Quiz: CalcuHeal Ingredients</h1>
      <form id="triviaForm">
        <div id="triviaContainer"></div>
        <button type="submit">Check Answers</button>
      </form>
      <div class="result" id="triviaResult" style="display:none;">
        <h2>Quiz Completed!</h2>
        <p id="triviaScore"></p>
      </div>
    </div>

    <a href="index.html" class="back-link">‚Üê Back to Home</a>
  </div>

  <script>
    // ========== Theme: respect system preference & persist choice ==========
    (function initTheme(){
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = saved || (prefersDark ? 'dark' : 'light');
      document.body.setAttribute('data-theme', theme);
    })();
    document.getElementById('themeToggle').addEventListener('click', () => {
      const cur = document.body.getAttribute('data-theme');
      const next = cur === 'dark' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    });

    // Switch between quizzes
    function showQuiz(type) {
      document.getElementById('personality-quiz').style.display = type === 'personality' ? 'block' : 'none';
      document.getElementById('trivia-quiz').style.display = type === 'trivia' ? 'block' : 'none';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Personality Quiz
    const personalityQuestions = [
      { q: "What describes your healing style?", options: ["Slow but steady", "Quick and clean", "Cooling and calm", "Gentle and nourishing"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "Your ideal environment is:", options: ["Structured and strong", "Tropical and fresh", "Natural and soothing", "Warm and glowing"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "Which benefit matters most to you?", options: ["Bone/skin strengthening", "Antibacterial protection", "Anti-inflammatory effects", "Skin repair"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "Pick a color you vibe with:", options: ["White", "Golden", "Green", "Yellow"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "You're best at:", options: ["Being reliable", "Fighting germs", "Soothing others", "Healing emotional wounds"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "What kind of weather do you enjoy most?", options: ["Cool breeze", "Sunny beaches", "Rainy calm", "Mild warmth"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "Choose a favorite time of day:", options: ["Morning", "Noon", "Afternoon", "Evening"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "How do you handle stress?", options: ["Stay firm", "Push through", "Breathe and rest", "Care for myself"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "Which activity sounds most like you?", options: ["Planning & prepping", "Multitasking", "Meditating", "Journaling"], values: ["calcium", "vco", "aloe", "vitaminE"] },
      { q: "You're the friend who:", options: ["Supports everyone quietly", "Takes action fast", "Calms the group", "Gives heartfelt advice"], values: ["calcium", "vco", "aloe", "vitaminE"] }
    ];

    const results = {
      calcium: {
        title: "You're Eggshell Powder!",
        description: "Strong and steady, you‚Äôre the foundation of healing. You believe in the natural power of strength and resilience.",
        image: "image/egg.jpeg"
      },
      vco: {
        title: "You're Virgin Coconut Oil!",
        description: "Quick, protective, and a tropical multitasker‚Äîyou‚Äôre all about fighting off harm and keeping things smooth.",
        image: "image/vco.webp"
      },
      aloe: {
        title: "You're Aloe Vera!",
        description: "Calming, cool, and collected‚Äîyou bring soothing relief to any situation. Healing others comes naturally to you.",
        image: "image/av.jpg"
      },
      vitaminE: {
        title: "You're Vitamin E!",
        description: "You radiate gentle care and emotional healing. You help others heal from the inside out with deep compassion.",
        image: "image/so.webp"
      }
    };

    const quizContainer = document.getElementById("quizContainer");

    personalityQuestions.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "question";

      const q = document.createElement("h2");
      q.textContent = `Q${index + 1}: ${item.q}`;

      const options = document.createElement("div");
      options.className = "options";

      item.options.forEach((opt, i) => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = `q${index}`;
        input.value = item.values[i];
        input.required = true;
        label.appendChild(input);
        label.appendChild(document.createTextNode(` ${opt}`));
        options.appendChild(label);
      });

      div.appendChild(q);
      div.appendChild(options);
      quizContainer.appendChild(div);
    });

    document.getElementById("quizForm").addEventListener("submit", function(event) {
      event.preventDefault();
      const form = new FormData(this);
      const scores = { calcium: 0, vco: 0, aloe: 0, vitaminE: 0 };

      for (let [, value] of form.entries()) {
        scores[value]++;
      }

      let max = -1;
      let resultKey = "calcium";
      for (let key in scores) {
        if (scores[key] > max) { max = scores[key]; resultKey = key; }
      }

      const result = results[resultKey];
      document.getElementById("resultTitle").textContent = result.title;
      document.getElementById("resultDescription").textContent = result.description;
      document.getElementById("resultImage").src = result.image;
      document.getElementById("resultBox").style.display = "block";
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });

    // Trivia Quiz
    const triviaQuestions = [
      { q: "Which mineral is abundant in eggshells?", options: ["Iron", "Zinc", "Calcium", "Magnesium"], answer: "Calcium" },
      { q: "What property of virgin coconut oil helps prevent infection?", options: ["Vitamin C", "Antibacterial", "Sweet scent", "Iron content"], answer: "Antibacterial" },
      { q: "Which part of the aloe vera is used for skin healing?", options: ["Leaf skin", "Root", "Gel", "Seed"], answer: "Gel" },
      { q: "What is the primary vitamin in sunflower oil?", options: ["Vitamin A", "Vitamin B", "Vitamin D", "Vitamin E"], answer: "Vitamin E" },
      { q: "Eggshell powder can be used as a substitute for which supplement?", options: ["Iron", "Zinc", "Calcium", "Magnesium"], answer: "Calcium" },
      { q: "Which oil is solid at room temperature?", options: ["Sunflower oil", "Olive oil", "Coconut oil", "Sesame oil"], answer: "Coconut oil" },
      { q: "Aloe vera is commonly used for treating:", options: ["Burns", "Coughs", "Fever", "Toothaches"], answer: "Burns" },
      { q: "Sunflower oil is commonly extracted from:", options: ["Roots", "Flowers", "Seeds", "Leaves"], answer: "Seeds" },
      { q: "Virgin coconut oil is best stored in:", options: ["Plastic bags", "Glass jars", "Aluminum foil", "Wooden boxes"], answer: "Glass jars" },
      { q: "Eggshells are considered eco-friendly because they are:", options: ["Toxic", "Synthetic", "Biodegradable", "Heavy"], answer: "Biodegradable" }
    ];

    const triviaContainer = document.getElementById("triviaContainer");

    triviaQuestions.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "question";

      const q = document.createElement("h2");
      q.textContent = `Q${index + 1}: ${item.q}`;

      const options = document.createElement("div");
      options.className = "options";

      item.options.forEach((opt) => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = `tq${index}`;
        input.value = opt;
        input.required = true;
        label.appendChild(input);
        label.appendChild(document.createTextNode(` ${opt}`));
        options.appendChild(label);
      });

      div.appendChild(q);
      div.appendChild(options);
      triviaContainer.appendChild(div);
    });

    // Trivia check with theme-aware highlights
    document.getElementById("triviaForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const form = new FormData(this);
      let score = 0;

      triviaQuestions.forEach((item, index) => {
        const selected = form.get(`tq${index}`);
        const options = document.getElementsByName(`tq${index}`);

        options.forEach(opt => {
          const label = opt.parentElement;
          label.classList.remove('is-correct', 'is-wrong');

          if (opt.value === item.answer) {
            label.classList.add('is-correct');
          }

          if (opt.checked) {
            if (opt.value === item.answer) {
              score++;
            } else {
              label.classList.add('is-wrong');
            }
          }
        });
      });

      document.getElementById("triviaScore").textContent =
        `You scored ${score} out of ${triviaQuestions.length}!`;
      document.getElementById("triviaResult").style.display = "block";
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });
  </script>
</body>
</html>
